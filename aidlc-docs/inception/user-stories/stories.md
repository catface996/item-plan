# 用户故事

## 概述
本文档按功能模块组织用户故事，使用 MoSCoW 优先级标注，验收标准采用 Given-When-Then 格式。

---

## 模块一：用户认证

### US-001: 用户登录
**优先级**: Must

作为 **任意用户**，我希望能够 **登录系统**，以便 **访问我的工作界面**。

**验收标准**:
- Given 用户在登录页面
- When 用户输入正确的用户名和密码并点击登录
- Then 系统验证凭据并跳转到对应角色的首页

- Given 用户在登录页面
- When 用户输入错误的凭据
- Then 系统显示错误提示，不允许登录

### US-002: 用户登出
**优先级**: Must

作为 **已登录用户**，我希望能够 **安全登出系统**，以便 **保护我的账户安全**。

**验收标准**:
- Given 用户已登录系统
- When 用户点击登出按钮
- Then 系统清除会话并跳转到登录页面

---

## 模块二：商品提交

### US-003: 提交新商品
**优先级**: Must

作为 **商家**，我希望能够 **提交新商品信息**，以便 **商品能够进入审核流程**。

**验收标准**:
- Given 商家在商品提交页面
- When 商家填写商品名称、描述、价格并提交
- Then 系统创建商品记录，状态设为"待审核"，并显示提交成功

- Given 商家在商品提交页面
- When 商家提交的信息不完整（缺少必填项）
- Then 系统显示验证错误，不允许提交

### US-004: 查看我的商品列表
**优先级**: Must

作为 **商家**，我希望能够 **查看我提交的所有商品**，以便 **了解商品的整体状态**。

**验收标准**:
- Given 商家已登录系统
- When 商家访问"我的商品"页面
- Then 系统显示该商家提交的所有商品列表，包含商品名称和当前状态

### US-005: 查看商品审核状态
**优先级**: Must

作为 **商家**，我希望能够 **查看单个商品的审核状态和意见**，以便 **了解审核进度和反馈**。

**验收标准**:
- Given 商家在商品列表页面
- When 商家点击某个商品查看详情
- Then 系统显示商品详情、当前状态和审核意见（如有）

### US-006: 修改被退回商品
**优先级**: Must

作为 **商家**，我希望能够 **修改状态为"需修改"的商品**，以便 **根据审核意见重新提交**。

**验收标准**:
- Given 商品状态为"需修改"
- When 商家修改商品信息并重新提交
- Then 系统更新商品信息，状态重置为"待审核"

- Given 商品状态不是"需修改"
- When 商家尝试编辑商品
- Then 系统不允许编辑，显示状态限制提示

---

## 模块三：初审流程

### US-007: 查看待初审商品列表
**优先级**: Must

作为 **普通审核员**，我希望能够 **查看所有待初审的商品**，以便 **选择商品进行审核**。

**验收标准**:
- Given 审核员已登录系统
- When 审核员访问"待审核"页面
- Then 系统显示所有状态为"待审核"的商品列表

### US-008: 执行初审操作
**优先级**: Must

作为 **普通审核员**，我希望能够 **对商品执行初审**，以便 **推进审核流程**。

**验收标准**:
- Given 审核员在商品详情页面
- When 审核员选择"通过"并提交
- Then 商品状态变为"初审通过"，进入复审队列

- Given 审核员在商品详情页面
- When 审核员选择"拒绝"并填写拒绝原因后提交
- Then 商品状态变为"拒绝"，商家可查看拒绝原因

- Given 审核员在商品详情页面
- When 审核员选择"需修改"并填写修改意见后提交
- Then 商品状态变为"需修改"，商家可查看修改意见

### US-009: 填写审核意见
**优先级**: Should

作为 **普通审核员**，我希望能够 **填写详细的审核意见**，以便 **商家了解审核反馈**。

**验收标准**:
- Given 审核员在执行审核操作
- When 审核员在意见框中输入文字
- Then 系统保存审核意见并关联到该商品

---

## 模块四：复审流程

### US-010: 查看待复审商品列表
**优先级**: Must

作为 **高级审核员**，我希望能够 **查看所有待复审的商品**，以便 **选择商品进行复审**。

**验收标准**:
- Given 高级审核员已登录系统
- When 高级审核员访问"待复审"页面
- Then 系统显示所有状态为"初审通过"的商品列表

### US-011: 执行复审操作
**优先级**: Must

作为 **高级审核员**，我希望能够 **对商品执行复审**，以便 **做出最终审核决定**。

**验收标准**:
- Given 高级审核员在商品详情页面
- When 高级审核员选择"通过"并提交
- Then 商品状态变为"通过"，审核流程完成

- Given 高级审核员在商品详情页面
- When 高级审核员选择"拒绝"并填写拒绝原因后提交
- Then 商品状态变为"拒绝"，商家可查看拒绝原因

- Given 高级审核员在商品详情页面
- When 高级审核员选择"需修改"并填写修改意见后提交
- Then 商品状态变为"需修改"，商家可查看修改意见

---

## 模块五：审核管理

### US-012: 查看审核历史
**优先级**: Should

作为 **审核员**，我希望能够 **查看商品的审核历史记录**，以便 **了解审核过程**。

**验收标准**:
- Given 审核员在商品详情页面
- When 审核员点击"审核历史"
- Then 系统显示该商品的所有审核记录，包含时间、操作人、操作类型和意见

### US-013: 审核统计报表
**优先级**: Could

作为 **高级审核员**，我希望能够 **查看审核统计数据**，以便 **了解审核工作量和效率**。

**验收标准**:
- Given 高级审核员已登录系统
- When 高级审核员访问"统计报表"页面
- Then 系统显示审核数量统计（按状态、按时间段）

---

## 模块六：系统管理

### US-014: 操作日志记录
**优先级**: Should

作为 **系统**，我需要 **记录所有关键操作**，以便 **支持审计和问题追溯**。

**验收标准**:
- Given 用户执行任何关键操作（登录、提交、审核等）
- When 操作完成
- Then 系统自动记录操作日志，包含时间、用户、操作类型和详情

---

## 故事追溯矩阵

| 故事ID | 故事名称 | 优先级 | 关联需求 |
|--------|----------|--------|----------|
| US-001 | 用户登录 | Must | FR-014 |
| US-002 | 用户登出 | Must | FR-014 |
| US-003 | 提交新商品 | Must | FR-001 |
| US-004 | 查看我的商品列表 | Must | FR-005 |
| US-005 | 查看商品审核状态 | Must | FR-002, FR-003 |
| US-006 | 修改被退回商品 | Must | FR-004 |
| US-007 | 查看待初审商品列表 | Must | FR-006 |
| US-008 | 执行初审操作 | Must | FR-008 |
| US-009 | 填写审核意见 | Should | FR-009 |
| US-010 | 查看待复审商品列表 | Must | FR-011 |
| US-011 | 执行复审操作 | Must | FR-012 |
| US-012 | 查看审核历史 | Should | FR-010 |
| US-013 | 审核统计报表 | Could | FR-013 |
| US-014 | 操作日志记录 | Should | FR-016 |
